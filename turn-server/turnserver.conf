# TURN server configuration
listening-port=3478
tls-listening-port=5349

# For local testing, external-ip is not needed
# external-ip=$(EXTERNAL_IP)

# Realm (simplified for local testing)
realm=https://turn-x99q.onrender.com

# Use long-term credentials
lt-cred-mec

# User credentials for local testing
user=sparkle:sparkle123

# Certificate for TLS (using Let's Encrypt)
cert=/etc/letsencrypt/live/turn-x99q.onrender.com/fullchain.pem
pkey=/etc/letsencrypt/live/turn-x99q.onrender.com/privkey.pem

# Enable TLS/DTLS
fingerprint
stale-nonce
no-tlsv1
no-tlsv1_1
tls-listening-port=5349

# Logging
verbose
syslog

# No CLI support
no-cli

# Use fingerprints
fingerprint

# ICE candidate options
no-multicast-peers

# Recommended production settings
no-tlsv1
no-tlsv1_1
dtls1_2-only
no-stun-backward-compatibility
# For local testing, we'll use simple user:password auth
use-auth-secret
static-auth-secret=sparkle123

# STUN
# Enable both STUN and TURN for testing
# stun-only

# TURN
no-tcp-relay

# Security
no-loopback-peers
no-multicast-peers

# Performance
# Enable both TCP and UDP for testing
# no-tcp
# no-udp-relay

# Log file
log-file=/var/log/turn.log
simple-log
